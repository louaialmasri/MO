{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/louai/Desktop/Louai/MO/my-booking-app/services/api.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport type User = {\r\n  _id: string\r\n  email: string\r\n  role: 'user' | 'admin' | 'staff'\r\n}\r\n\r\nexport type Service = {\r\n  _id: string\r\n  title: string\r\n  description?: string\r\n  price: number\r\n  duration: number\r\n  salon?: string | null\r\n}\r\n\r\n\r\nexport type Booking = {\r\n  _id: string\r\n  user: string\r\n  serviceId: string\r\n  dateTime: string\r\n}\r\n\r\nexport type StaffBooking  = {\r\n  _id: string\r\n  user: {\r\n    email: string\r\n  }\r\n  service: {\r\n    _id: string\r\n    title: string\r\n    duration?: number\r\n  }\r\n  dateTime: string\r\n}\r\n\r\nexport type Availability = {\r\n  _id: string\r\n  staff: string | { _id: string; name?: string; email?: string }\r\n  type: 'absence' | 'work' | 'break'\r\n  start: string\r\n  end: string\r\n  note?: string\r\n}\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\nconst API_URL =\r\n  process.env.NEXT_PUBLIC_API_URL ??\r\n  'http://localhost:5000/api'; \r\n\r\n// Token automatisch mitschicken\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\n// SERVICE API\r\n\r\nexport async function fetchServices(salonId?: string): Promise<Service[]> {\r\n  const res = await api.get('/services', { params: salonId ? { salonId } : {} })\r\n  return res.data.services\r\n}\r\n\r\nexport async function createService(\r\n  payload: { title: string; description?: string; price: number; duration: number; salonId?: string | null },\r\n  token: string\r\n) {\r\n  const res = await api.post('/services', payload, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.service\r\n}\r\n\r\nexport async function deleteServiceById(id: string, token: string) {\r\n  const res = await api.delete(`/services/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data\r\n}\r\n\r\nexport async function updateServiceById(\r\n  id: string,\r\n  body: { title?: string; description?: string; price?: number; duration?: number; salonId?: string | null },\r\n  token: string\r\n) {\r\n  const res = await api.patch(`/services/${id}`, body, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.service\r\n}\r\n\r\n\r\n// BOOKING API\r\n\r\nexport async function createBooking(serviceId: string, dateTime: string, staffId: string, token: string, userId?: string) {\r\n  const res = await api.post('/bookings', {\r\n    serviceId,\r\n    dateTime,\r\n    staffId,\r\n    userId\r\n  }, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data\r\n}\r\n\r\nexport async function getUserBookings(token: string): Promise<Booking[]> {\r\n  const res = await api.get('/bookings/user', {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data.bookings\r\n}\r\n\r\nexport async function getAllBookings(token: string): Promise<Booking[]> {\r\n  const res = await api.get('/bookings/all', {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data.bookings\r\n}\r\n\r\nexport async function deleteBooking(id: string, token: string) {\r\n  const res = await api.delete(`/bookings/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data\r\n}\r\n\r\n// AUTH API\r\n\r\nexport async function login(email: string, password: string) {\r\n  const res = await api.post('/login', { email, password })\r\n  return res.data // { token, user: { email, role } }\r\n}\r\n\r\nexport async function register(\r\n  email: string,\r\n  password: string,\r\n  name?: string,\r\n  address?: string,\r\n  phone?: string,\r\n  role: 'user' | 'staff' | 'admin' = 'user'\r\n) {\r\n  const res = await api.post('/register', {\r\n    email,\r\n    password,\r\n    name,\r\n    address,\r\n    phone,\r\n    role,\r\n  });\r\n  return res.data;\r\n}\r\n\r\nconst authHeaders = (token?: string) =>\r\n  token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n// ➡ Alle Mitarbeiter abrufen\r\nexport async function fetchStaff(token?: string) {\r\n  const res = await api.get('/users', { params: { role: 'staff' }, headers: authHeaders(token) })\r\n  return res.data.users\r\n}\r\n\r\n\r\n// ➡ Buchungen für Mitarbeiter abrufen\r\nexport async function getStaffBookings(token: string): Promise<StaffBooking[]> {\r\n  const res = await api.get('/bookings/staff', {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n  return res.data.bookings\r\n}\r\n\r\n// ➡ Alle Nutzer abrufen\r\nexport async function fetchAllUsers(token: string) {\r\n  const res = await api.get('/users', {\r\n    headers: authHeaders(token),\r\n  });\r\n  return res.data.users\r\n}\r\n\r\n// ➡ Mitarbeiterrolle aktualisieren\r\nexport async function updateUserRole(userId: string, role: string, token: string) {\r\n  const res = await api.patch(`/users/${userId}/role`, { role }, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.user\r\n}\r\n\r\nexport async function updateUserSkills(userId: string, skills: string[], token: string) {\r\n  const res = await api.patch(`/users/${userId}/skills`, { skills }, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return res.data.user;\r\n}\r\n\r\n\r\n// ➡ Buchungen bearbeiten\r\nexport async function updateBooking(\r\n  id: string,\r\n  data: { serviceId?: string; dateTime?: string, staffId?: string },\r\n  token: string\r\n) {\r\n  const res = await api.patch(`/bookings/${id}`, data, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.booking\r\n}\r\n\r\n\r\n// Availability API\r\nexport async function getAvailability(\r\n  params: { staffId?: string; from?: string; to?: string },\r\n  token: string\r\n): Promise<Availability[]> {\r\n  const res = await api.get('/availability', {\r\n    params,\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.availability\r\n}\r\n\r\nexport async function createAvailabilityApi(\r\n  payload: { staffId: string; type: 'absence'|'work'|'break'; start: string; end: string; note?: string },\r\n  token: string\r\n): Promise<Availability> {\r\n  const res = await api.post('/availability', payload, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.availability\r\n}\r\n\r\nexport async function updateAvailabilityApi(\r\n  id: string,\r\n  payload: Partial<{ staffId: string; type: 'absence'|'work'|'break'; start: string; end: string; note?: string }>,\r\n  token: string\r\n): Promise<Availability> {\r\n  const res = await api.patch(`/availability/${id}`, payload, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data.availability\r\n}\r\n\r\nexport async function deleteAvailabilityApi(id: string, token: string) {\r\n  const res = await api.delete(`/availability/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data\r\n}\r\n\r\n// Timeslots API\r\nexport async function fetchTimeslots(\r\n  params: { staffId: string; serviceId: string; date: string; step?: number },\r\n  token: string\r\n): Promise<{ slots: string[]; duration: number }> {\r\n  const res = await api.get('/timeslots', {\r\n    params,\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n  return res.data\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/louai/Desktop/Louai/MO/my-booking-app/components/AdminBreadcrumbs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Breadcrumbs, Link as MUILink, Typography } from '@mui/material'\r\nimport Link from 'next/link'\r\n\r\ntype Crumb = { label: string; href?: string }\r\n\r\nexport default function AdminBreadcrumbs({ items }: { items: Crumb[] }) {\r\n  const last = items[items.length - 1]\r\n  return (\r\n    <Breadcrumbs aria-label=\"breadcrumb\" sx={{ mb: 2 }}>\r\n      {items.slice(0, -1).map((c) =>\r\n        c.href ? (\r\n          <MUILink key={c.label} component={Link} href={c.href} underline=\"hover\" color=\"inherit\">\r\n            {c.label}\r\n          </MUILink>\r\n        ) : (\r\n          <Typography key={c.label} color=\"text.secondary\">{c.label}</Typography>\r\n        )\r\n      )}\r\n      <Typography color=\"text.primary\" fontWeight={600}>{last.label}</Typography>\r\n    </Breadcrumbs>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AACA;AAHA;;;;AAOe,SAAS,iBAAiB,EAAE,KAAK,EAAsB;IACpE,MAAM,OAAO,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;IACpC,qBACE,8OAAC,gNAAA,CAAA,cAAW;QAAC,cAAW;QAAa,IAAI;YAAE,IAAI;QAAE;;YAC9C,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,IACvB,EAAE,IAAI,iBACJ,8OAAC,2LAAA,CAAA,OAAO;oBAAe,WAAW,4JAAA,CAAA,UAAI;oBAAE,MAAM,EAAE,IAAI;oBAAE,WAAU;oBAAQ,OAAM;8BAC3E,EAAE,KAAK;mBADI,EAAE,KAAK;;;;yCAIrB,8OAAC,6MAAA,CAAA,aAAU;oBAAe,OAAM;8BAAkB,EAAE,KAAK;mBAAxC,EAAE,KAAK;;;;;0BAG5B,8OAAC,6MAAA,CAAA,aAAU;gBAAC,OAAM;gBAAe,YAAY;0BAAM,KAAK,KAAK;;;;;;;;;;;;AAGnE","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/louai/Desktop/Louai/MO/my-booking-app/app/admin/services/page.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { Card, CardActions, CardContent, Container, Grid, IconButton, Typography, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Button, Snackbar, Alert } from '@mui/material'\r\nimport EditIcon from '@mui/icons-material/Edit'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport { fetchServices, createService, deleteServiceById, updateServiceById } from '@/services/api'\r\nimport { useAuth } from '@/context/AuthContext'\r\nimport { motion } from 'framer-motion'\r\nimport AdminBreadcrumbs from '@/components/AdminBreadcrumbs'\r\n\r\nexport default function AdminServicesPage() {\r\n  const { token } = useAuth()\r\n  const [services, setServices] = useState<any[]>([])\r\n  const [editOpen, setEditOpen] = useState(false)\r\n  const [editing, setEditing] = useState<{ _id: string; title: string; price: number; duration: number; description?: string } | null>(null)\r\n  const [toast, setToast] = useState<{open: boolean; msg: string; sev: 'success'|'error'}>({open:false,msg:'',sev:'success'})\r\n  const [successMessage, setSuccessMessage] = useState(false)\r\n\r\n  // Button style\r\n  const btnStyle: React.CSSProperties = {\r\n    background: '#2563eb',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 6,\r\n    padding: '10px 24px',\r\n    fontWeight: 700,\r\n    fontSize: 16,\r\n    marginTop: 12,\r\n    cursor: 'pointer',\r\n    transition: 'background 0.2s',\r\n  }\r\n\r\n  const { register, handleSubmit, reset, formState: { errors } } = useForm<{ title: string; price: number; duration: number; description?: string }>()\r\n\r\n  // Input style helper\r\n  function inputStyle(error?: any): React.CSSProperties {\r\n    return {\r\n      width: '100%',\r\n      padding: '10px 12px',\r\n      marginBottom: 10,\r\n      border: error ? '2px solid #ef4444' : '1px solid #d1d5db',\r\n      borderRadius: 6,\r\n      fontSize: 16,\r\n      outline: 'none',\r\n      boxSizing: 'border-box',\r\n      background: '#fff',\r\n      transition: 'border 0.2s',\r\n    }\r\n  }\r\n\r\n  const loadServices = async () => {\r\n    try {\r\n      const data = await fetchServices()\r\n      setServices(data)\r\n    } catch (err) {\r\n      console.error('Fehler beim Laden der Services:', err)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadServices()\r\n  }, [])\r\n\r\n  const handleDeleteService = async (id: string) => {\r\n    try {\r\n      await deleteServiceById(id, token!)\r\n      loadServices()\r\n    } catch (err) {\r\n      console.error('Fehler beim Löschen:', err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <AdminBreadcrumbs items={[\r\n        { label: 'Mein Salon', href: '/admin' },\r\n        { label: 'Services' },\r\n      ]} />\r\n      <Typography variant=\"h4\" fontWeight={800} gutterBottom>\r\n        Services verwalten\r\n      </Typography>\r\n\r\n      {/* Service anlegen */}\r\n      <form\r\n        onSubmit={handleSubmit(async (data) => {\r\n          try {\r\n            await createService(\r\n              {\r\n                title: data.title.trim(),\r\n                description: data.description?.trim(),\r\n                price: Number(data.price),\r\n                duration: Number(data.duration),\r\n              },\r\n              token!\r\n            )\r\n            setSuccessMessage(true)\r\n            await loadServices()\r\n            setTimeout(() => setSuccessMessage(false), 2000)\r\n            reset()\r\n          } catch (err) {\r\n            console.error('Fehler beim Erstellen des Services:', err)\r\n          }\r\n        })}\r\n        style={{ marginBottom: '2rem' }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Titel (z. B. Herrenpaket)\"\r\n          {...register('title', { required: 'Titel ist erforderlich' })}\r\n          style={inputStyle(errors.title)}\r\n        />\r\n        {errors.title && <p style={{ color: '#ef4444' }}>{errors.title.message}</p>}\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Preis in €\"\r\n          step=\"0.01\"\r\n          {...register('price', { required: 'Preis ist erforderlich', min: { value: 0, message: '>= 0' } })}\r\n          style={inputStyle(errors.price)}\r\n        />\r\n        {errors.price && <p style={{ color: '#ef4444' }}>{errors.price.message}</p>}\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Dauer in Minuten\"\r\n          {...register('duration', { required: 'Dauer ist erforderlich', min: { value: 5, message: 'mind. 5 Min' } })}\r\n          style={inputStyle(errors.duration)}\r\n        />\r\n        {errors.duration && <p style={{ color: '#ef4444' }}>{errors.duration.message}</p>}\r\n\r\n        <textarea\r\n          placeholder=\"Beschreibung (optional)\"\r\n          {...register('description')}\r\n          style={{ ...inputStyle(), minHeight: 80 }}\r\n        />\r\n\r\n        <button type=\"submit\" style={btnStyle}>Hinzufügen</button>\r\n        {successMessage && (\r\n          <p style={{ color: '#22c55e', fontWeight: 600, marginTop: 8 }}>\r\n            Service erfolgreich hinzugefügt!\r\n          </p>\r\n        )}\r\n      </form>\r\n\r\n      {/* Service-Liste */}\r\n      <Grid container spacing={2} sx={{ mb: 3 }}>\r\n        {services.map(s => (\r\n          <Grid\r\n            key={s._id}\r\n            sx={{\r\n              width: { xs: '100%', sm: '50%', md: '33.33%' },\r\n              display: 'flex'\r\n            }}\r\n          >\r\n            <Card sx={{ borderRadius: 3, width: '100%', maxWidth: 420 }}>\r\n              <CardContent sx={{ py: 1.5 }}>\r\n                <Typography variant=\"subtitle1\" sx={{ fontWeight: 700 }}>\r\n                  {s.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Dauer: {'duration' in s ? (s as any).duration ?? '—' : '—'} Min.\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions sx={{ justifyContent: 'flex-end', py: 1 }}>\r\n                <IconButton\r\n                  aria-label=\"Bearbeiten\"\r\n                  onClick={() => {\r\n                    setEditing({ _id: s._id, title: s.title, price: s.price, duration: s.duration, description: s.description });\r\n                    setEditOpen(true);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n                <IconButton\r\n                  aria-label=\"Löschen\"\r\n                  color=\"error\"\r\n                  onClick={() => handleDeleteService(s._id)}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n\r\n        {services.length === 0 && (\r\n          <Grid sx={{ width: '100%' }}>\r\n            <Typography color=\"text.secondary\">Noch keine Services angelegt.</Typography>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n\r\n      {/* Service bearbeiten Dialog */}\r\n      <Dialog open={editOpen} onClose={() => setEditOpen(false)} fullWidth maxWidth=\"xs\">\r\n        <DialogTitle>Service bearbeiten</DialogTitle>\r\n        <DialogContent sx={{ display:'flex', flexDirection:'column', gap:2, pt:2 }}>\r\n          <TextField\r\n            label=\"Titel\"\r\n            value={editing?.title ?? ''}\r\n            onChange={e => setEditing(prev => prev ? ({ ...prev, title: e.target.value }) : prev)}\r\n          />\r\n          <TextField\r\n            label=\"Preis (€)\"\r\n            type=\"number\"\r\n            value={editing?.price ?? ''}\r\n            onChange={e => setEditing(prev => prev ? ({ ...prev, price: Number(e.target.value) }) : prev)}\r\n          />\r\n          <TextField\r\n            label=\"Dauer (Minuten)\"\r\n            type=\"number\"\r\n            value={editing?.duration ?? ''}\r\n            onChange={e => setEditing(prev => prev ? ({ ...prev, duration: Number(e.target.value) }) : prev)}\r\n          />\r\n          <TextField\r\n            label=\"Beschreibung\"\r\n            multiline\r\n            minRows={2}\r\n            value={editing?.description ?? ''}\r\n            onChange={e => setEditing(prev => prev ? ({ ...prev, description: e.target.value }) : prev)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setEditOpen(false)}>Abbrechen</Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={async () => {\r\n              if (!editing) return\r\n              try {\r\n                const updated = await updateServiceById(editing._id, {\r\n                  title: editing.title,\r\n                  duration: editing.duration\r\n                }, token!)\r\n                setToast({open:true, msg:'Service gespeichert', sev:'success'})\r\n                setEditOpen(false)\r\n                // Liste aktualisieren\r\n                setServices(prev => prev.map(s => s._id === updated._id ? updated : s))\r\n              } catch (e) {\r\n                setToast({open:true, msg:'Fehler beim Speichern', sev:'error'})\r\n              }\r\n            }}\r\n          >\r\n            Speichern\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar für Feedback */}\r\n      <Snackbar\r\n        open={toast.open}\r\n        autoHideDuration={2000}\r\n        onClose={() => setToast(p => ({...p, open:false}))}\r\n        anchorOrigin={{ vertical:'bottom', horizontal:'center' }}\r\n      >\r\n        <Alert onClose={() => setToast(p => ({...p, open:false}))} severity={toast.sev} variant=\"filled\">\r\n          {toast.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}