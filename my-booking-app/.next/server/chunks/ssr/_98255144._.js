module.exports = {

"[project]/services/api.ts [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "createAvailabilityApi": (()=>createAvailabilityApi),
    "createBooking": (()=>createBooking),
    "createService": (()=>createService),
    "deleteAvailabilityApi": (()=>deleteAvailabilityApi),
    "deleteBooking": (()=>deleteBooking),
    "deleteServiceById": (()=>deleteServiceById),
    "fetchAllUsers": (()=>fetchAllUsers),
    "fetchServices": (()=>fetchServices),
    "fetchStaff": (()=>fetchStaff),
    "fetchTimeslots": (()=>fetchTimeslots),
    "getAllBookings": (()=>getAllBookings),
    "getAvailability": (()=>getAvailability),
    "getStaffBookings": (()=>getStaffBookings),
    "getUserBookings": (()=>getUserBookings),
    "login": (()=>login),
    "register": (()=>register),
    "updateAvailabilityApi": (()=>updateAvailabilityApi),
    "updateBooking": (()=>updateBooking),
    "updateServiceById": (()=>updateServiceById),
    "updateUserRole": (()=>updateUserRole),
    "updateUserSkills": (()=>updateUserSkills)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/axios/lib/axios.js [app-ssr] (ecmascript)");
;
const api = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].create({
    baseURL: 'http://localhost:5000/api',
    headers: {
        'Content-Type': 'application/json'
    }
});
const API_URL = process.env.NEXT_PUBLIC_API_URL ?? 'http://localhost:5000/api';
// Token automatisch mitschicken
api.interceptors.request.use((config)=>{
    const token = localStorage.getItem('token');
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
});
async function fetchServices(salonId) {
    const res = await api.get('/services', {
        params: salonId ? {
            salonId
        } : {}
    });
    return res.data.services;
}
async function createService(payload, token) {
    const res = await api.post('/services', payload, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.service;
}
async function deleteServiceById(id, token) {
    const res = await api.delete(`/services/${id}`, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data;
}
async function updateServiceById(id, body, token) {
    const res = await api.patch(`/services/${id}`, body, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.service;
}
async function createBooking(serviceId, dateTime, staffId, token, userId) {
    const res = await api.post('/bookings', {
        serviceId,
        dateTime,
        staffId,
        userId
    }, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data;
}
async function getUserBookings(token) {
    const res = await api.get('/bookings/user', {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.bookings;
}
async function getAllBookings(token) {
    const res = await api.get('/bookings/all', {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.bookings;
}
async function deleteBooking(id, token) {
    const res = await api.delete(`/bookings/${id}`, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data;
}
async function login(email, password) {
    const res = await api.post('/login', {
        email,
        password
    });
    return res.data // { token, user: { email, role } }
    ;
}
async function register(email, password, name, address, phone, role = 'user') {
    const res = await api.post('/register', {
        email,
        password,
        name,
        address,
        phone,
        role
    });
    return res.data;
}
const authHeaders = (token)=>token ? {
        Authorization: `Bearer ${token}`
    } : {};
async function fetchStaff(token) {
    const res = await api.get('/users', {
        params: {
            role: 'staff'
        },
        headers: authHeaders(token)
    });
    return res.data.users;
}
async function getStaffBookings(token) {
    const res = await api.get('/bookings/staff', {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.bookings;
}
async function fetchAllUsers(token) {
    const res = await api.get('/users', {
        headers: authHeaders(token)
    });
    return res.data.users;
}
async function updateUserRole(userId, role, token) {
    const res = await api.patch(`/users/${userId}/role`, {
        role
    }, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.user;
}
async function updateUserSkills(userId, skills, token) {
    const res = await api.patch(`/users/${userId}/skills`, {
        skills
    }, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.user;
}
async function updateBooking(id, data, token) {
    const res = await api.patch(`/bookings/${id}`, data, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.booking;
}
async function getAvailability(params, token) {
    const res = await api.get('/availability', {
        params,
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.availability;
}
async function createAvailabilityApi(payload, token) {
    const res = await api.post('/availability', payload, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.availability;
}
async function updateAvailabilityApi(id, payload, token) {
    const res = await api.patch(`/availability/${id}`, payload, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data.availability;
}
async function deleteAvailabilityApi(id, token) {
    const res = await api.delete(`/availability/${id}`, {
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data;
}
async function fetchTimeslots(params, token) {
    const res = await api.get('/timeslots', {
        params,
        headers: {
            Authorization: `Bearer ${token}`
        }
    });
    return res.data;
}
}}),
"[project]/app/booking/page.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>BookingPage)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/context/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/services/api.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__ = __turbopack_context__.i("[project]/node_modules/@mui/material/esm/TextField/TextField.js [app-ssr] (ecmascript) <export default as TextField>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$MenuItem$2f$MenuItem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MenuItem$3e$__ = __turbopack_context__.i("[project]/node_modules/@mui/material/esm/MenuItem/MenuItem.js [app-ssr] (ecmascript) <export default as MenuItem>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Button$2f$Button$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Button$3e$__ = __turbopack_context__.i("[project]/node_modules/@mui/material/esm/Button/Button.js [app-ssr] (ecmascript) <export default as Button>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Snackbar$2f$Snackbar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Snackbar$3e$__ = __turbopack_context__.i("[project]/node_modules/@mui/material/esm/Snackbar/Snackbar.js [app-ssr] (ecmascript) <export default as Snackbar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Alert$2f$Alert$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Alert$3e$__ = __turbopack_context__.i("[project]/node_modules/@mui/material/esm/Alert/Alert.js [app-ssr] (ecmascript) <export default as Alert>");
'use client';
;
;
;
;
;
;
function BookingPage() {
    const { user, token } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useAuth"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    const isPrivileged = user?.role === 'admin' || user?.role === 'staff';
    const [services, setServices] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [staff, setStaff] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [customers, setCustomers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [selectedServiceId, setSelectedServiceId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [selectedStaffId, setSelectedStaffId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [selectedCustomerId, setSelectedCustomerId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [date, setDate] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('') // YYYY-MM-DD
    ;
    const [slots, setSlots] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]) // ISO strings
    ;
    const [slot, setSlot] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('') // chosen ISO
    ;
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [toast, setToast] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        open: false,
        msg: '',
        sev: 'success'
    });
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!user) router.push('/login');
    }, [
        user
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        (async ()=>{
            try {
                const [svc, stf] = await Promise.all([
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchServices"])(),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchStaff"])()
                ]);
                setServices(svc);
                setStaff(stf);
                if (isPrivileged && token) {
                    const all = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchAllUsers"])(token);
                    setCustomers(all.filter((u)=>u.role === 'user'));
                }
            } catch  {
                setToast({
                    open: true,
                    msg: 'Fehler beim Laden der Daten',
                    sev: 'error'
                });
            }
        })();
    }, [
        isPrivileged,
        token
    ]);
    // Staff-Skill-Filter
    const filteredStaff = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (!selectedServiceId) return staff;
        return staff.filter((s)=>(s.skills ?? []).some((k)=>(typeof k === 'string' ? k : k._id) === selectedServiceId));
    }, [
        staff,
        selectedServiceId
    ]);
    // Timeslots laden, sobald Service + Staff + Date gesetzt
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        (async ()=>{
            setSlots([]);
            setSlot('');
            if (!token || !selectedServiceId || !selectedStaffId || !date) return;
            try {
                const { slots: s } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchTimeslots"])({
                    staffId: selectedStaffId,
                    serviceId: selectedServiceId,
                    date
                }, token);
                setSlots(s);
            } catch  {
                setToast({
                    open: true,
                    msg: 'Fehler beim Laden der Zeit-Slots',
                    sev: 'error'
                });
            }
        })();
    }, [
        token,
        selectedServiceId,
        selectedStaffId,
        date
    ]);
    const handleBook = async ()=>{
        if (!token) {
            setToast({
                open: true,
                msg: 'Bitte logge dich ein',
                sev: 'error'
            });
            return;
        }
        if (!selectedServiceId || !selectedStaffId || !date || !slot || isPrivileged && !selectedCustomerId) {
            setToast({
                open: true,
                msg: 'Bitte alle Felder ausfüllen',
                sev: 'error'
            });
            return;
        }
        try {
            setLoading(true);
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$services$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createBooking"])(selectedServiceId, slot, selectedStaffId, token, isPrivileged ? selectedCustomerId : undefined);
            setToast({
                open: true,
                msg: 'Termin gebucht',
                sev: 'success'
            });
            router.push('/dashboard');
        } catch (e) {
            const msg = e?.response?.data?.message || 'Buchung fehlgeschlagen';
            setToast({
                open: true,
                msg,
                sev: 'error'
            });
        } finally{
            setLoading(false);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        style: {
            maxWidth: 560,
            margin: '24px auto'
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                children: "Termin buchen"
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 94,
                columnNumber: 7
            }, this),
            isPrivileged && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__["TextField"], {
                select: true,
                label: "Kunde",
                value: selectedCustomerId,
                onChange: (e)=>setSelectedCustomerId(e.target.value),
                fullWidth: true,
                margin: "normal",
                required: true,
                children: customers.map((c)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$MenuItem$2f$MenuItem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MenuItem$3e$__["MenuItem"], {
                        value: c._id,
                        children: c.name ? `${c.name} – ${c.email}` : c.email
                    }, c._id, false, {
                        fileName: "[project]/app/booking/page.tsx",
                        lineNumber: 99,
                        columnNumber: 31
                    }, this))
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 97,
                columnNumber: 9
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__["TextField"], {
                select: true,
                label: "Service",
                value: selectedServiceId,
                onChange: (e)=>{
                    setSelectedServiceId(e.target.value);
                    setSelectedStaffId('');
                    setSlots([]);
                    setSlot('');
                },
                fullWidth: true,
                margin: "normal",
                required: true,
                children: services.map((s)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$MenuItem$2f$MenuItem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MenuItem$3e$__["MenuItem"], {
                        value: s._id,
                        children: s.title
                    }, s._id, false, {
                        fileName: "[project]/app/booking/page.tsx",
                        lineNumber: 106,
                        columnNumber: 28
                    }, this))
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 103,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__["TextField"], {
                select: true,
                label: "Mitarbeiter",
                value: selectedStaffId,
                onChange: (e)=>{
                    setSelectedStaffId(e.target.value);
                    setSlots([]);
                    setSlot('');
                },
                fullWidth: true,
                margin: "normal",
                required: true,
                disabled: !selectedServiceId,
                helperText: !selectedServiceId ? 'Bitte zuerst Service wählen' : undefined,
                children: filteredStaff.map((s)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$MenuItem$2f$MenuItem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MenuItem$3e$__["MenuItem"], {
                        value: s._id,
                        children: s.name || s.email
                    }, s._id, false, {
                        fileName: "[project]/app/booking/page.tsx",
                        lineNumber: 113,
                        columnNumber: 33
                    }, this))
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 109,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__["TextField"], {
                type: "date",
                label: "Datum",
                value: date,
                onChange: (e)=>setDate(e.target.value),
                fullWidth: true,
                margin: "normal",
                InputLabelProps: {
                    shrink: true
                },
                required: true
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 116,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$TextField$2f$TextField$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextField$3e$__["TextField"], {
                select: true,
                label: "Zeit-Slot",
                value: slot,
                onChange: (e)=>setSlot(e.target.value),
                fullWidth: true,
                margin: "normal",
                helperText: !date || slots.length === 0 ? 'Keine freien Zeiten' : undefined,
                disabled: !date || slots.length === 0,
                required: true,
                children: slots.map((sIso)=>{
                    const dt = new Date(sIso);
                    const label = dt.toLocaleTimeString('de-DE', {
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$MenuItem$2f$MenuItem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MenuItem$3e$__["MenuItem"], {
                        value: sIso,
                        children: label
                    }, sIso, false, {
                        fileName: "[project]/app/booking/page.tsx",
                        lineNumber: 127,
                        columnNumber: 18
                    }, this);
                })
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 120,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Button$2f$Button$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Button$3e$__["Button"], {
                variant: "contained",
                onClick: handleBook,
                disabled: loading || !selectedServiceId || !selectedStaffId || !date || !slot || isPrivileged && !selectedCustomerId,
                sx: {
                    mt: 2
                },
                children: "Termin buchen"
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 131,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Snackbar$2f$Snackbar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Snackbar$3e$__["Snackbar"], {
                open: toast.open,
                autoHideDuration: 2200,
                onClose: ()=>setToast((p)=>({
                            ...p,
                            open: false
                        })),
                anchorOrigin: {
                    vertical: 'bottom',
                    horizontal: 'center'
                },
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$mui$2f$material$2f$esm$2f$Alert$2f$Alert$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Alert$3e$__["Alert"], {
                    severity: toast.sev,
                    variant: "filled",
                    onClose: ()=>setToast((p)=>({
                                ...p,
                                open: false
                            })),
                    children: toast.msg
                }, void 0, false, {
                    fileName: "[project]/app/booking/page.tsx",
                    lineNumber: 139,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/app/booking/page.tsx",
                lineNumber: 137,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/app/booking/page.tsx",
        lineNumber: 93,
        columnNumber: 5
    }, this);
}
}}),

};

//# sourceMappingURL=_98255144._.js.map