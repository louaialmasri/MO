{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/louai/Desktop/Louai/MO/my-booking-app/app/login/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useAuth } from '@/context/AuthContext'\r\nimport { Box, Button, TextField, Typography } from '@mui/material'\r\nimport { motion } from 'framer-motion'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function LoginPage() {\r\n  const { login } = useAuth()\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [error, setError] = useState('')\r\n  const router = useRouter()\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/login', {\r\n        email,\r\n        password,\r\n      })\r\n  \r\n      const { token, user } = res.data\r\n  \r\n      // ⬇️ Token + User lokal speichern\r\n      localStorage.setItem('token', token)\r\n      localStorage.setItem('user', JSON.stringify(user))\r\n  \r\n      login(user.email, user.role, token) // dein context-login\r\n      router.push('/dashboard')\r\n    } catch (err: any) {\r\n      setError('Login fehlgeschlagen: ' + err.message)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      <Box display=\"flex\" flexDirection=\"column\" maxWidth={400} margin=\"auto\" gap={3} mt={10}>\r\n        <Typography variant=\"h5\">Login</Typography>\r\n  \r\n        <TextField label=\"E-Mail\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <TextField label=\"Passwort\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n  \r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n  \r\n        <Button variant=\"contained\" onClick={handleLogin}>\r\n          Einloggen\r\n        </Button>\r\n  \r\n        <Button variant=\"outlined\" onClick={() => router.push('/register')}>\r\n          Noch kein Account? Registrieren\r\n        </Button>\r\n      </Box>\r\n    </motion.div>\r\n  )  \r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAPA;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,mCAAmC;gBAC9D;gBACA;YACF;YAEA,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAI,IAAI;YAEhC,kCAAkC;YAClC,aAAa,OAAO,CAAC,SAAS;YAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAE5C,MAAM,KAAK,KAAK,EAAE,KAAK,IAAI,EAAE,OAAO,qBAAqB;;YACzD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,SAAS,2BAA2B,IAAI,OAAO;QACjD;IACF;IAEA,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,MAAM;YAAE,SAAS;QAAE;QACnB,YAAY;YAAE,UAAU;QAAI;kBAE5B,cAAA,8OAAC,wLAAA,CAAA,MAAG;YAAC,SAAQ;YAAO,eAAc;YAAS,UAAU;YAAK,QAAO;YAAO,KAAK;YAAG,IAAI;;8BAClF,8OAAC,6MAAA,CAAA,aAAU;oBAAC,SAAQ;8BAAK;;;;;;8BAEzB,8OAAC,0MAAA,CAAA,YAAS;oBAAC,OAAM;oBAAS,OAAO;oBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;8BAChF,8OAAC,0MAAA,CAAA,YAAS;oBAAC,OAAM;oBAAW,MAAK;oBAAW,OAAO;oBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;gBAEvG,uBAAS,8OAAC,6MAAA,CAAA,aAAU;oBAAC,OAAM;8BAAS;;;;;;8BAErC,8OAAC,iMAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAY,SAAS;8BAAa;;;;;;8BAIlD,8OAAC,iMAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAW,SAAS,IAAM,OAAO,IAAI,CAAC;8BAAc;;;;;;;;;;;;;;;;;AAM5E","debugId":null}}]
}